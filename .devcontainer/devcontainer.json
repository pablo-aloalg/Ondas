{
  "name": "Conda_env",
  "build": {
    "context": "..",
    "dockerfile": "Dockerfile"
  },
  "settings": {
    "terminal.integrated.shell.linux": "/bin/bash",
    "python.defaultInterpreterPath": "/opt/conda/bin/python",
    "jupyter.jupyterServerType": "local"
  },
  "extensions": [
    "ms-python.python",
    "ms-toolsai.jupyter",
    "ms-toolsai.jupyter-keymap",
    "ms-toolsai.jupyter-renderers"
  ],
  "postCreateCommand": "source /opt/conda/etc/profile.d/conda.sh && \
    conda env create -f /tmp/environment.yml || conda env update -f /tmp/environment.yml --prune && \
    echo 'source /opt/conda/etc/profile.d/conda.sh && conda activate $(head -1 /tmp/environment.yml | cut -d' ' -f2)' >> ~/.bashrc && \
    jupyter trust $(find . -name '*.ipynb') && \
    echo 'âœ… Conda environment installed and all notebooks trusted!'",
  "remoteUser": "vscode"
}
